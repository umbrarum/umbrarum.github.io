function WSClient(o,t){this.target=o,this.port=t,this.destination="ws://"+this.target+":"+this.port,this.socket=null}WSClient.prototype.connect=function(){this.socket=new WebSocket(this.destination);var o=this;this.socket.onmessage=function(t){o.message(t.data)},this.socket.onopen=this.onopen,this.socket.onerror=this.onerror,this.socket.onclose=this.onclose},WSClient.prototype.message=function(o){this.onmessage(JSON.parse(o))},WSClient.prototype.onmessage=function(o){console.info(o),this[o.type]?this[o.type](o):(console.error(o.type+" response but no method on: "),console.info(this))},WSClient.prototype.onopen=function(){console.info("onopen")},WSClient.prototype.onerror=function(){console.error("onerror")},WSClient.prototype.onclose=function(){console.error("onclose")},WSClient.prototype.write=function(o){this.socket.send(o)},WSClient.prototype.send=function(o){this.write(JSON.stringify(o))};